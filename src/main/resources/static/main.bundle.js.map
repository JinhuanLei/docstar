{"version":3,"sources":["./src/$_lazy_route_resource lazy","./src/app/app.component.css","./src/app/app.component.html","./src/app/app.component.ts","./src/app/app.module.ts","./src/app/login/login.component.css","./src/app/login/login.component.html","./src/app/login/login.component.ts","./src/app/user-service.service.ts","./src/environments/environment.ts","./src/main.ts"],"names":[],"mappings":"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","file":"main.bundle.js","sourcesContent":["function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncatched exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tthrow new Error(\"Cannot find module '\" + req + \"'.\");\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = \"./src/$$_lazy_route_resource lazy recursive\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/$$_lazy_route_resource lazy\n// module id = ./src/$$_lazy_route_resource lazy recursive\n// module chunks = main","module.exports = \"\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/app.component.css\n// module id = ./src/app/app.component.css\n// module chunks = main","module.exports = \"<router-outlet></router-outlet>\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/app.component.html\n// module id = ./src/app/app.component.html\n// module chunks = main","import { Component } from '@angular/core';\nimport {Router, ActivatedRoute } from \"@angular/router\";\n\n@Component({\n  selector: 'app-root',\n  templateUrl: './app.component.html',\n  styleUrls: ['./app.component.css']\n})\nexport class AppComponent {\n  isLoginRoute : boolean = true;\n\n  constructor( private route : ActivatedRoute ) {}\n\n  ngOnInit() {\n    this.route.url.subscribe( url => {\n      this.isLoginRoute = url.toString().indexOf( \"login\" ) >= 0;\n    })\n  }\n}\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/app.component.ts","import { BrowserModule } from '@angular/platform-browser';\nimport { NgModule } from '@angular/core';\n\n\nimport { AppComponent } from './app.component';\nimport { LoginComponent } from './login/login.component';\nimport {RouterModule, Routes} from \"@angular/router\";\nimport {HttpClientModule} from \"@angular/common/http\";\nimport {FormsModule} from \"@angular/forms\";\nimport {UserServiceService} from \"./user-service.service\";\n\nconst routes: Routes = [\n  {path: '', redirectTo: 'login', pathMatch: 'full'},\n  {path: 'login', component: LoginComponent },\n]\n\n\n@NgModule({\n  declarations: [\n    AppComponent,\n    LoginComponent\n  ],\n  imports: [\n    BrowserModule,\n    HttpClientModule,\n    FormsModule,\n    RouterModule.forRoot( routes, { useHash : true })\n  ],\n  providers: [HttpClientModule, UserServiceService ],\n  bootstrap: [AppComponent]\n})\nexport class AppModule { }\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/app.module.ts","module.exports = \"\\n\\na {\\n  color: #00B7FF;\\n}\\n\\n#login-form {\\n  max-width : 600px;\\n  min-width: 300px;\\n  padding: 15px;\\n  background-color : #eee;\\n  border-radius: .5em;\\n  margin-top: 1em;\\n}\\n\\n/*body {*/\\n\\n/*!*background: #eee !important;*!*/\\n\\n/*background-size: cover; !* rescales the image to cover the window *!*/\\n\\n/*!* shown during image load *!*/\\n\\n/*background: #464646 url(\\\"../images/back1.jpg\\\") repeat-x fixed center center;*/\\n\\n/*}*/\\n\\n.wrapper {\\n  margin-top: 80px;\\n  margin-bottom: 80px;\\n}\\n\\n.form-signin {\\n  max-width: 380px;\\n  padding: 15px 35px 45px;\\n  margin: 0 auto;\\n  background-color: #fff;\\n  border: 1px solid rgba(0, 0, 0, 0.1);\\n}\\n\\n.form-signin-heading,\\n.checkbox {\\n  margin-bottom: 30px;\\n}\\n\\n.checkbox {\\n  font-weight: normal;\\n}\\n\\n.form-control {\\n  position: relative;\\n  font-size: 16px;\\n  height: auto;\\n  padding: 10px;\\n}\\n\\n/*@include box-sizing(border-box);*/\\n\\n/*&:focus {*/\\n\\n/*z-index: 2;*/\\n\\n/*}*/\\n\\n/*}*/\\n\\ninput[type=\\\"text\\\"] {\\n  margin-bottom: -1px;\\n  border-bottom-left-radius: 0;\\n  border-bottom-right-radius: 0;\\n}\\n\\ninput[type=\\\"password\\\"] {\\n  margin-bottom: 20px;\\n  border-top-left-radius: 0;\\n  border-top-right-radius: 0;\\n}\\n\\n#background{\\n\\n  background-image: url('back1.e919ebc6b254b90e6c28.jpg');\\n  background-size: cover;\\n  width: 100%;\\n  height: 100%;\\n  position: fixed;\\n  z-index: -1;\\n}\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/login/login.component.css\n// module id = ./src/app/login/login.component.css\n// module chunks = main","module.exports = \"<div id=\\\"background\\\">\\n  <div id=\\\"login\\\" style=\\\"position: relative; top:200px; \\\">\\n    <div class=\\\"wrapper\\\" >\\n      <form class=\\\"form-signin\\\" target=\\\"nm_iframe1\\\">\\n        <h2 class=\\\"form-signin-heading\\\">Please login</h2>\\n        <br>\\n        <input type=\\\"text\\\" class=\\\"form-control\\\" name=\\\"email\\\" placeholder=\\\"Username\\\"  [(ngModel)]=\\\"username\\\"/>\\n\\n        <input style=\\\"margin-top: 10px\\\" type=\\\"password\\\" class=\\\"form-control\\\"  name=\\\"password\\\" placeholder=\\\"password\\\" [(ngModel)]=\\\"password\\\"/>\\n\\n        <br>\\n        <button class=\\\"btn btn-lg btn-primary btn-block\\\" type=\\\"submit\\\" (click)=\\\"login($event)\\\">Login</button>\\n        <label *ngIf=\\\"invalid1===1\\\" style=\\\"color: #873920;\\\" id=\\\"invalid1\\\" >Invalid username/password!</label>\\n        <label *ngIf=\\\"invalid2===1\\\" style=\\\"color: #873920; \\\" id=\\\"invalid2\\\">Invalid format of email!</label>\\n        <label *ngIf=\\\"invalid5===1\\\" style=\\\"color: #873920; \\\" id=\\\"invalid5\\\">Disabled account!</label>\\n      </form>\\n\\n      <iframe id=\\\"id_iframe1\\\" name=\\\"nm_iframe1\\\" style=\\\"display:none;\\\"></iframe>\\n    </div>\\n  </div>\\n</div>\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/login/login.component.html\n// module id = ./src/app/login/login.component.html\n// module chunks = main","import { Component, OnInit, Input, Injectable } from '@angular/core';\nimport { HttpClient } from '@angular/common/http';\nimport { Router, ActivatedRoute } from '@angular/router';\nimport { UserServiceService } from '../user-service.service';\nimport \"rxjs/add/operator/map\";\n\n@Component({\n  selector: 'app-login',\n  templateUrl: './login.component.html',\n  styleUrls: ['./login.component.css']\n})\nexport class LoginComponent implements OnInit {\n\n  @Input() username : string;\n  @Input() password : string;\n  LOGIN_URL : string =\"/docstar/api/v1/login\"\n  invalid1:any=0;\n  invalid2:any=0;\n  invalid5:any=0;\n  constructor(private http : HttpClient, private router : Router, private userService : UserServiceService ) { }\n\n\n  ngOnInit() {\n    // this.email = \"samwise@mordor.org\";\n    // this.password = \"123\";\n    this.validateUser();\n\n  }\n  validateUser(){\n    this.http.get<UserResponse>( \"/docstar/api/v1/user\").subscribe(\n      data => {\n        console.log(data);\n        if(data.role==\"ADMIN\"){\n          this.router.navigateByUrl( 'adminpage');\n        }else{\n          this.router.navigateByUrl( 'gamelist');\n        }\n      },\n      error=>{\n\n      }\n    )\n  }\n  csrf:any;\n  login() {\n    this.invalid1=0;\n    this.invalid2=0;\n    this.invalid5=0;\n\n    var credentials = { username : this.username, password : this.password };\n    this.http.post<UserResponse>( this.LOGIN_URL, credentials, { observe : 'response'} )\n      .map( res => {\n        this.csrf=res.headers.get('CSRF-Token') ;\n        this.userService.setToken( res.headers.get('CSRF-Token') );\n        sessionStorage.setItem(\"csrf\", this.csrf);\n        console.log(this.csrf);\n        return res.body;\n\n      })\n      .subscribe(\n        (data) => {\n          console.log(data);\n\n          this.userService.setUser( data );\n          sessionStorage.setItem(\"user\", JSON.stringify(data));\n          if(data.role==\"ADMIN\"){\n            this.router.navigateByUrl( 'adminpage');\n          }else{\n            this.router.navigateByUrl( 'gamelist');\n          }\n        },\n        error=>{\n          console.log(error);\n          if(error.error==\"Forbidden\"){\n            this.invalid1=1;\n          }else if(error.error==\"Disabled\"){\n            this.invalid5=1;\n          }else{\n            this.invalid1=1;\n          }\n        }\n      );\n  }\n\n}\n\ninterface UserResponse {\n  role: string;\n  headers:any;\n}\n\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/login/login.component.ts","import { Injectable } from '@angular/core';\n\n@Injectable()\nexport class UserServiceService {\n  user : any;\n  csrf : string;\n\n  constructor() { }\n\n  setUser( user : any ) : void {\n    this.user = user;\n  }\n\n  setToken( csrf : string ) : void {\n    this.csrf = csrf;\n  }\n\n  getUser( ) : any {\n    return this.user;\n  }\n\n  getToken( ) : string {\n    return this.csrf;\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/user-service.service.ts","// The file contents for the current environment will overwrite these during build.\n// The build system defaults to the dev environment which uses `environment.ts`, but if you do\n// `ng build --env=prod` then `environment.prod.ts` will be used instead.\n// The list of which env maps to which file can be found in `.angular-cli.json`.\n\nexport const environment = {\n  production: false\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/environments/environment.ts","import { enableProdMode } from '@angular/core';\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\n\nimport { AppModule } from './app/app.module';\nimport { environment } from './environments/environment';\n\nif (environment.production) {\n  enableProdMode();\n}\n\nplatformBrowserDynamic().bootstrapModule(AppModule)\n  .catch(err => console.log(err));\n\n\n\n// WEBPACK FOOTER //\n// ./src/main.ts"],"sourceRoot":"webpack:///"}